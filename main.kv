#:import MapView kivy_garden.mapview.MapView
<Homescreen>:
    MDScreen:
        md_bg_color:239/255,243/255,246/255,1
        name:"SingIn"
        MDBoxLayout:
            orientation:'vertical'
            padding:dp(20)
            spacing:dp(15)
            MDBoxLayout:
                orientation:'vertical'
                size_hint_y:.6
                MDLabel:
                    text:'Welcome'

                MDLabel:
                    text:"Sign In"
                    font_style:'H4'

            MDBoxLayout:
                orientation:'vertical'
                size_hint_y:1.5
                MDLabel:
                    text:"Email"
                NCard:
                    MDBoxLayout:
                        padding:[dp(15),sp(5),dp(15),sp(5)]
                        md_bg_color:239/255,243/255,246/255,1
                        radius:[20]
                        MDTextField:
                            hint_text: 'Tên đăng nhập'
                            id: username
                MDLabel:
                    text:"Password"

                NCard:
                    MDBoxLayout:
                        padding:[dp(15),sp(5),dp(15),sp(5)]
                        md_bg_color:239/255,243/255,246/255,1
                        radius:[20]
                        MDTextField:
                            hint_text: 'Mật khẩu'
							password:True
                            id: password
            MDBoxLayout:
                orientation:'vertical'
                spacing:dp(10)
                size_hint_y:1.1
                MDLabel:
                    text:'Forget your password ?'
                    halign:"center"
                RectangularRippleButton:
                    md_bg_color:app.theme_cls.primary_color
                    padding:"10dp"
                    radius:"20dp"

                    MDTextButton:
                    # MDLabel:
                        text:'Sign In'
                        padding: [350,10,20, 10]
                        size_hint: None, None
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        theme_text_color:"Custom"
                        text_color:1,1,0,1
                        on_release:
                            app.root.transition.direction ="left"
                            app.root.login(username.text, password.text)

                MDLabel:
                    text:'OR'
                    halign:"center"
                MDBoxLayout:
                    size_hint_x:None
                    width:"180sp"
                    pos_hint:{'center_x':.5}
                    spacing:dp(20)
                    RectangularRippleImage:
                        source:"icon/twitter.png"
                    RectangularRippleImage:
                        source:"icon/facebook.png"
                    RectangularRippleImage:
                        source:"icon/instagram.png"


                MDBoxLayout:
                    pos_hint:{'center_x':.5}
                    adaptive_width:True
                    spacing:dp(6)
                    MDLabel:
                        text:"Don't have account ?"
                        text_size:None,None
                        halign:"center"
                        adaptive_size:True
                    MDTextButton:
                        text:"Sign Up"
                        theme_text_color:'Custom'
                        text_color:app.theme_cls.primary_color
                        # on_release:
                        #     app.root.transition.direction ="left"
                        #     app.root.login(username.text, password.text)

    MDScreen:
        name:'trangchu'
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: 1, 1, 1, 1
            MDTopAppBar:
                id:tieudettb
                md_bg_color: app.theme_cls.primary_color
                elevation:1
                title:'ĐÀI KTTV TTB'
                # right_action_items: [["dots-vertical", lambda x: app.callback_trangchu()], ["clock", lambda x: app.callback_trangchu()]]
                left_action_items: [['home', lambda x: app.callback_trangchu()]]
            MDBoxLayout:
                padding:10
                orientation: 'vertical'
                
                MDScrollView:
                    MDList:
                        id: provin
                        # md_bg_color:0, 0, 0, 0.8
    MDScreen:
        name:'solieu'
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: 1, 1, 1, 1
            MDTopAppBar:
                id:tieude_solieu
                md_bg_color: app.theme_cls.primary_color
                elevation:2
                title:''
                left_action_items: [['arrow-left-thick', lambda x: app.callback_trangchu()]]

            MDBoxLayout:
                padding:10
                orientation: 'vertical'
                MDScrollView:
                    MDList:
                        id: tramkttv_tinh
                        # md_bg_color:0, 0, 0, 0.8    
            MDTextField:
                icon_right: "magnify"
                id: hintexx
                hint_text: "Tìm kiếm"
                on_text: app.search_tram(self.text)  # Gọi hàm tìm kiếm khi văn bản thay đổi
                mode: "round"
                # pos_hint:{'top':.5}
    MDScreen:
        name:'tram'
        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: 1, 1, 1, 1
            MDTopAppBar:
                id:tieude_tram
                md_bg_color: app.theme_cls.primary_color
                elevation:2
                title:''
                left_action_items: [['arrow-left-thick', lambda x: app.callback_solieu()]]

            MDBoxLayout:
                padding:10
                orientation: 'vertical'
                MDScrollView:
                    MDList:
                        id: solieutram

<RectangularRippleButton>:
<RectangularRippleImage>:
<NCard@MDBoxLayout>:
    canvas.before:
        Color:
            rgba:(0,0,0,.1)
        RoundedRectangle:
            size:self.size
            pos:self.pos[0]+6,self.pos[1]-4
            radius:[20]
        Color:
            rgba:1, 1, 1, 0.8
        RoundedRectangle:
            size:self.size
            pos:self.pos[0]-6,self.pos[1]+4
            radius:[20]
